{% extends 'base.html' %}

{% load static %}

{% block title %}TRAM - Threat Report ATT&CK Mapper{% endblock %}

{% block body %}
<h1>ML Admin</h1>
<div class="container row">
  <div class="col-sm">
    <h3>Accepted Sentences Per Technique</h3>
    <table id="technique-sentence-table" class="table table-striped table-hover">
      <tbody>
        <tr>
          <th>#</th>
          <th>Technique ID</th>
          <th>Technique Name</th>
          <th>Accepted Sentences</th>
        </tr>
        {% for t in techniques %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td><a href="{{ t.attack_url }}">{{ t.attack_id }}</a></td>
          <td>{{ t.name }}</td>
          <td>{{ t.sentence_count }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="col-sm">
    <div>
      <h3>ML Settings <a class="btn btn-primary-outline" href="/admin/constance/config/">Manage</a></h3>

      <table class="table table-striped">
        <tbody>
          <tr>
            <th>Setting</th>
            <th>Value</th>
            <th>Note</th>
          </tr>
          <tr>
            <td>ML_ACCEPT_THRESHOLD</td>
            <td>{{ML_ACCEPT_THRESHOLD}}</td>
            <td>Exclude Attack Techniques with less than the specified number of accepted sentences</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div>
      <h3>ML Models</h3>
      TODO: This is mocked up
      <table class="table table-striped">
        <tbody>
          <tr>
            <th>Model Name</th>
            <th>Trained Techniques</th>
          </tr>
          <tr>
            <td>Dummy</td>
            <td>797</td>
          </tr>
          <tr>
            <td>NaiveBayes</td>
            <td>60</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}